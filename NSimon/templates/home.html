<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>NSimon | Login</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet" />

  <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='favicon/apple-touch-icon.png') }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon/favicon-32x32.png') }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon/favicon-16x16.png') }}">
  <link rel="manifest" href="{{ url_for('static', filename='favicon/site.webmanifest') }}">
  <link rel="mask-icon" href="{{ url_for('static', filename='favicon/safari-pinned-tab.svg') }}" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#3a3a3a">

</head>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
</style>

<body class="text-white">

  <div class="modal fade" id="firstTimeModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Welcome to NSimon!</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <b>NSimon</b> is a custom version of SIMON for SFX that utilises their API to get your information.<br>
          <b>Logging In</b><br>
          You can login to NSimon using the same username (EG: JDoe21), and the same password that you would usually log into SIMON or your Laptop using. You can then select your Campus. Campus selection can be edited within settings once you are logged in and is used for getting relevent weather information and timetable rooms.
          <b>Support/Suggestions</b><br>
          If you have any suggestions, or need any support feel free to contact us on our Discord by clicking the button below. You can also choose to contact us via a form found in the side bar once you are logged in. <b>It is highly recommended to join our Discord to stay up to date, and get new information.</b>

        </div>
        <div class="modal-footer">
          <a class="btn btn-primary" href="https://discord.gg/zUZv7GVEuF" role="button">Join Discord</a>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      // Check if it's the user's first time by looking for a key in local storage
          // Show the modal
          var myModal = new bootstrap.Modal(document.getElementById('firstTimeModal'), {});
          myModal.show();
          
          // Set the key in local storage to mark the user as not a first-time visitor anymore
          localStorage.setItem('firstTimeVisit', 'true');
  });
  
  </script>

  
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <div class="toast align-items-center text-white bg-danger border-0" role="alert" aria-live="assertive"
      aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">
          Your login credentials are wrong!
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
          aria-label="Close"></button>
      </div>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
  </div>

  <script>
    var toastElList = [].slice.call(document.querySelectorAll('.toast'))
    var toastList = toastElList.map(function (toastEl) {
      return new bootstrap.Toast(toastEl)
    })

    toastList.forEach(toast => toast.show());

  </script>
  <script>
    function togglePassword() {
      var x = document.getElementById("password");
    if (x.type === "password") {
      x.type = "text";
    } else {
      x.type = "password";
    }
}
  </script>
  <div id="content-wrap">



    <div class="container-fluid text-center hero-section pt-5">
      <h1 class="display-2" style="font-weight: 600;">NSimon</h1>
      <form action="/login" method="post">

        <span>These are the same login details you use for actual SIMON and to login to your laptop!</span><br><br>

        <span style="font-weight: 600; font-size:larger;">SIMON Username</span><br>
        <input type="text" name="username" id="username" placeholder="Username"><br>



        <span style="font-weight: 600; font-size:larger;">SIMON Password</span><br>
        <input type="password" name="password" id="password" placeholder="Password"><br>
        <input type="checkbox" onclick="togglePassword()">Show Password<br>
        



        <span style="font-weight: 600; font-size:larger;">Campus</span><br>

        <select class="settingsSelect" id="campusSelection" name="campusSelection">
          <option value="Berwick" selected>BERWICK</option>
          <option value="Officer">OFFICER</option>
          <option value="Beaconsfield">BEACONSFIELD</option>
        </select>
        <br><br>



        <button class="btn btn-dark" type="submit" id="loginButton">Login</button>
      </form>
      <br>
      

    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const loginButton = document.getElementById('loginButton');
    
        loginButton.addEventListener('click', function(event) {
          setTimeout(() => {
            this.disabled = true;
            this.textContent = "Logging you in..."
          }, 100);  // 100 milliseconds delay
        });
      });
    </script>


  </div>



</body>

</html>